<odoo>

<record model="ir.module.category" id="integration_module">
    <field name="name">Draft Publish</field>
    <field name="description">User access level for  Draft Publish module</field>
    <field name="sequence">3</field>
</record>

                    <!-- groups -->
<record id="group_int_validator" model="res.groups">
    <field name="name">Validator</field>
    <field name="category_id" ref="integration_module" />
</record>

<record id="group_int_approver" model="res.groups">
    <field name="name">Approver</field>
    <field name="implied_ids" eval="[(4, ref('group_int_validator'))]" />
    <field name="category_id" ref="integration_module" />
</record>

<record id="group_int_admin" model="res.groups">
    <field name="name">Admin</field>
    <field name="implied_ids" eval="[(4, ref('group_int_approver'))]" />
    <field name="category_id" ref="integration_module" />
</record>

<record id="g2p_imorted_record_following_restriction_rule" model="ir.rule">
    <field name="name">Imported  Records Follower</field>
    <field name="model_id" ref="model_g2p_imported_record" />
    <field
            name="domain_force"
        >['|', ('message_partner_ids', 'in', [user.partner_id.id]), ('message_partner_ids','=',False) ]</field>
    <field
            name="groups"
            eval="[(6, 0, [ref('g2p_draft_publish.group_int_validator'), ref('g2p_draft_publish.group_int_approver')])]"
        />
</record>

<record id="g2p_draft_record_following_restriction_rule" model="ir.rule">
    <field name="name">Draft  Records Follower</field>
    <field name="model_id" ref="model_draft_imported_record" />
    <field
            name="domain_force"
        >['|', ('message_partner_ids', 'in', [user.partner_id.id]), ('message_partner_ids','=',False) ]</field>
    <field
            name="groups"
            eval="[(6, 0, [ref('g2p_draft_publish.group_int_validator'), ref('g2p_draft_publish.group_int_approver')])]"
        />
</record>

<record id="g2p_imported_record_followers_rule_admin" model="ir.rule">
    <field name="name">Admin Can View ALL Imported Records</field>
    <field name="model_id" ref="model_g2p_imported_record" />
    <field name="groups" eval="[(6, 0, [ref('g2p_draft_publish.group_int_admin')])]" />
</record>

<record id="draft_record_followers_rule_admin" model="ir.rule">
    <field name="name">Admin Can View ALL Draft Imported Records </field>
    <field name="model_id" ref="model_draft_imported_record" />
    <field name="groups" eval="[(6, 0, [ref('g2p_draft_publish.group_int_admin')])]" />
</record>


</odoo>
